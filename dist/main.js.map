{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.js","webpack:///./src/Demo.js","webpack:///./src/index.js","webpack:///./src/react-lite/api/Component.js","webpack:///./src/react-lite/api/createElement.js","webpack:///./src/react-lite/api/render.js","webpack:///./src/react-lite/index.js","webpack:///./src/react-lite/lib/createContainer.js","webpack:///./src/react-lite/lib/flattenChildren.js","webpack:///./src/react-lite/lib/reconciliation/handleReactComponent.js","webpack:///./src/react-lite/lib/reconciliation/reconcile.js","webpack:///./src/react-lite/lib/reconciliation/scenarios.js","webpack:///./src/react-lite/lib/updateAttributes.js","webpack:///./src/react-lite/lib/updateContainer.js"],"names":["App","props","state","n","demo","add","bind","toggleComponents","console","log","setState","Component","Demo","message","document","addEventListener","React","render","getElementById","isMounted","partialState","callback","Object","assign","updateContainer","__internalContainer","createElement","type","attributes","children","filter","c","map","child","createTextElement","nodeValue","rootContainer","element","target","prevContainer","nextContainer","reconcile","_render","_createElement","_Component","createDOMContainer","dom","createTextNode","updateAttributes","childElements","flattenedChildren","flattenChildren","childContainers","createContainer","nextChildElements","forEach","appendChild","container","createReactContainer","publicContainer","createPublicContainer","childElement","childContainer","isReactComponent","internalContainer","flatChildren","constructor","name","concat","push","handleReactComponent","parentDOMElement","previousContainer","nextElement","scenario","getScenario","ADD_NEW_ELEMENT","componentDidMount","REMOVE_EXISTING_ELEMENT","componentWillUnmount","removeChild","UPDATE_EXISTING_ELEMENT","oldProps","nextChildElement","oldChildContainer","nextChildContainer","componentDidUpdate","REPLACE_EXISTING_ELEMENT","replaceChild","reconcileChildren","newChildContainers","count","Math","max","length","i","newChildContainer","prototype","nextProps","keys","propName","startsWith","event","slice","toLowerCase","removeEventListener","parentNode"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import React, { Component } from './react-lite';\nimport Demo from './Demo';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      n: 5,\n      demo: true\n    }\n\n    this.add = this.add.bind(this);\n    this.toggleComponents = this.toggleComponents.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"Component Did Mount\");\n  }\n\n  add() {\n    let { n } = this.state;\n    n++;\n    this.setState({ n });\n  }\n\n  toggleComponents() {\n    this.setState({ demo: !this.state.demo });\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.add}>Add</button>\n        {this.state.demo ? <Demo message={this.state.n} /> : <h1>Hello</h1>}\n        <button onClick={this.toggleComponents}>Toggle</button>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React, { Component } from './react-lite';\n\nclass Demo extends Component {\n  render() {\n    return(\n      <h1>{this.props.message}</h1>\n    )\n  }\n}\n\nexport default Demo;","import React from './react-lite';\nimport App from './App';\n\ndocument.addEventListener('DOMContentLoaded', () =>{\n  React.render(<App />, document.getElementById('app'));\n});","import updateContainer from '../lib/updateContainer';\n\nclass Component {\n  constructor(props) {\n    this.props = props;\n    this.state = this.state || {};\n    this.isMounted = false;\n  }\n\n  componentDidMount() {}\n  componentDidUpdate() {}\n\n  setState(partialState, callback = () => {}) {\n    this.state = Object.assign({}, this.state, partialState);\n    updateContainer(this.__internalContainer, callback);\n  }\n}\n\nexport default Component;","const createElement = (type, attributes, ...children) => {  \n  const props = Object.assign({}, attributes);\n\n  props.children = children\n    .filter(c => c != null)\n    .map(child => \n      child instanceof Object ? child : createTextElement(child));\n  return { type, props };\n}\n\nconst createTextElement = nodeValue => createElement(\"TEXT\", { nodeValue });\n\nexport default createElement;","import reconcile from '../lib/reconciliation/reconcile';\n\nlet rootContainer = null;\nconst render = (element, target) => {\n  const prevContainer = rootContainer;\n  const nextContainer = reconcile(target, prevContainer, element);\n  rootContainer = nextContainer;\n}\n\nexport default render;","import _render from './api/render.js';\nimport _createElement from './api/createElement';\nimport _Component from './api/Component';\n\nexport const render = _render;\nexport const createElement = _createElement;\nexport const Component = _Component;\n\nexport default {\n  render,\n  createElement,\n  Component\n}","import updateAttributes from './updateAttributes';\nimport flattenChildren from './flattenChildren';\nimport { isReactComponent } from './reconciliation/scenarios';\n\nexport const createDOMContainer = element => {\n  const { type, props } = element;\n  const dom = (type === \"TEXT\") \n    ? document.createTextNode(\"\") \n    : document.createElement(type);\n  updateAttributes(dom, {}, props);\n  const childElements = props.children || [];\n  const flattenedChildren = flattenChildren(childElements);\n  const childContainers = flattenedChildren.map(createContainer);\n  const nextChildElements = childContainers.map(child => child.dom);\n  nextChildElements.forEach(child => dom.appendChild(child));\n  const container = { dom, element, childContainers };\n  return container;\n}\n\nexport const createReactContainer = element => {\n  const container = {};\n  const publicContainer = createPublicContainer(element, container);\n  const childElement = publicContainer.render();\n  const childContainer = createContainer(childElement);\n  const { dom } = childContainer;\n  Object.assign(container, { dom, element, childContainer, publicContainer });\n  return container;\n}\n\nconst createContainer = child => {\n  if (isReactComponent(child)) {\n    return createReactContainer(child);\n  } else {\n    return createDOMContainer(child);\n  }\n}\n\nconst createPublicContainer = ({ type, props }, internalContainer) => {\n  const publicContainer = new type(props);\n  publicContainer.__internalContainer = internalContainer;\n  return publicContainer;\n}","const flattenChildren = (children) => {\n  let flatChildren = [];\n  children.forEach(child => {\n    if (child.constructor.name === \"Array\") {\n      flatChildren = flatChildren.concat(child);\n    } else {\n      flatChildren.push(child);\n    }\n  });\n  return flatChildren;\n}\n\nexport default flattenChildren;","import reconcile from './reconcile';\nimport flattenChildren from '../flattenChildren';\nimport {\n  ADD_NEW_ELEMENT,\n  REMOVE_EXISTING_ELEMENT,\n  UPDATE_EXISTING_ELEMENT,\n  REPLACE_EXISTING_ELEMENT,\n  getScenario\n} from './scenarios';\nimport { createReactContainer } from '../createContainer';\n\nconst handleReactComponent = (parentDOMElement, previousContainer, nextElement) => {\n  const scenario = getScenario(previousContainer, nextElement);\n  let nextContainer;\n  switch(scenario) {\n    case ADD_NEW_ELEMENT:\n      nextContainer = createReactContainer(nextElement);\n      componentDidMount(nextContainer);\n      parentDOMElement.appendChild(nextContainer.dom);\n      return nextContainer;\n    case REMOVE_EXISTING_ELEMENT:\n      componentWillUnmount(previousContainer);\n      parentDOMElement.removeChild(previousContainer.dom);\n      return null;\n    case UPDATE_EXISTING_ELEMENT:\n      const { publicContainer } = previousContainer;\n      const { props: oldProps } = publicContainer;\n      publicContainer.props = nextElement.props;\n      const nextChildElement = publicContainer.render();\n      nextChildElement.props.children = flattenChildren(nextChildElement.props.children);\n      const oldChildContainer = previousContainer.childContainer;\n      const nextChildContainer = reconcile(parentDOMElement, oldChildContainer, nextChildElement);\n      previousContainer.dom = nextChildContainer.dom;\n      previousContainer.childContainer = nextChildContainer;\n      previousContainer.element = nextElement;\n      publicContainer.componentDidUpdate(oldProps);\n      return previousContainer;\n    case REPLACE_EXISTING_ELEMENT:\n      nextContainer = createReactContainer(nextElement);\n      componentDidMount(nextContainer);\n      parentDOMElement.replaceChild(nextContainer.dom, previousContainer.dom);\n      return nextContainer;\n    default: \n      console.log(\"I DONT KNOW WHAT TO DO\");\n      return null;\n  }\n}\n\nconst componentDidMount = ({ publicContainer }) => {\n  publicContainer.componentDidMount();\n  publicContainer.isMounted = true;\n}\n\nconst componentWillUnmount = ({ publicContainer }) => {\n  publicContainer.componentWillUnmount();\n}\n\nexport default handleReactComponent;","import handleReactComponent from './handleReactComponent';\nimport {\n  ADD_NEW_ELEMENT, \n  REMOVE_EXISTING_ELEMENT,\n  UPDATE_EXISTING_ELEMENT,\n  REPLACE_EXISTING_ELEMENT,\n  getScenario,\n  isReactComponent\n} from './scenarios';\nimport { createDOMContainer } from '../createContainer';\nimport updateAttributes from '../updateAttributes';\n\nconst reconcile = (parentDOMElement, previousContainer, nextElement) => {\n  if(isReactComponent(nextElement)) {\n    return handleReactComponent(parentDOMElement, previousContainer, nextElement);\n  }\n  \n  const scenario = getScenario(previousContainer, nextElement);\n  let nextContainer;\n  switch(scenario) {\n    case ADD_NEW_ELEMENT:\n      nextContainer = createDOMContainer(nextElement);\n      parentDOMElement.appendChild(nextContainer.dom);\n      return nextContainer;\n    case REMOVE_EXISTING_ELEMENT:\n      parentDOMElement.removeChild(previousContainer.dom);\n      return null;\n    case UPDATE_EXISTING_ELEMENT:\n      updateAttributes(previousContainer.dom, previousContainer.element.props, nextElement.props);\n      previousContainer.childContainers = reconcileChildren(previousContainer, nextElement);\n      previousContainer.element = nextElement;\n      return previousContainer;\n    case REPLACE_EXISTING_ELEMENT:\n      nextContainer = createDOMContainer(nextElement);\n      parentDOMElement.replaceChild(nextContainer.dom, previousContainer.dom);\n      return nextContainer;\n    default:\n      console.log(\"I DONT KNOW WHAT TO DO\");\n      return null;\n  }\n};\n\nconst reconcileChildren = ({ dom, childContainers }, nextElement) => {\n  const nextChildElements = nextElement.props.children || [];\n  const newChildContainers = [];\n  const count = Math.max(childContainers.length, nextChildElements.length);\n\n  for(let i = 0; i < count; i++) {\n    const childContainer = childContainers[i];\n    const childElement = nextChildElements[i];\n    const newChildContainer = reconcile(dom, childContainer, childElement);\n    newChildContainers.push(newChildContainer);\n  }\n  return newChildContainers;\n};\n\nexport default reconcile;","import Component from '../../api/Component';\n\nexport const ADD_NEW_ELEMENT = \"ADD_NEW_ELEMENT\";\nexport const UPDATE_EXISTING_ELEMENT = \"UPDATE_EXISTING_ELEMENT\";\nexport const REPLACE_EXISTING_ELEMENT = \"REPLACE_EXISTING_ELEMENT\";\nexport const REMOVE_EXISTING_ELEMENT = \"REMOVE_EXISTING_ELEMENT\";\n\nexport const getScenario = (previousContainer, nextElement) => {\n  if (!previousContainer) {\n    return ADD_NEW_ELEMENT;\n  } else if (!nextElement) {\n    return REMOVE_EXISTING_ELEMENT;\n  } else if (previousContainer.element.type === nextElement.type) {\n    return UPDATE_EXISTING_ELEMENT;\n  } else {\n    return REPLACE_EXISTING_ELEMENT\n  }\n}\n\nexport const isReactComponent = (element) => \n  element.type.prototype instanceof Component;","const updateAttributes =  (dom, props, nextProps) => {\n  Object.keys(props).forEach(propName => {\n    if (propName === \"children\") {}\n    else if (propName.startsWith('on')) {\n      const event = propName.slice(2).toLowerCase();\n      dom.removeEventListener(event, props[propName]);\n    } else {\n      dom[propName] = null;\n    }\n  });\n\n  Object.keys(nextProps).forEach(propName => {\n    if (propName === \"children\") { }\n    else if (propName.startsWith('on')) {\n      const event = propName.slice(2).toLowerCase();\n      dom.addEventListener(event, nextProps[propName]);\n    } else {\n      dom[propName] = nextProps[propName];\n    }\n  });\n};\n\nexport default updateAttributes;","import reconcile from './reconciliation/reconcile';\nconst updateContainer = (internalContainer, callback) => {\n  const { parentNode } = internalContainer.dom;\n  const element = internalContainer.element;\n  reconcile(parentNode, internalContainer, element);\n  callback();\n}\n\nexport default updateContainer;"],"sourceRoot":""}